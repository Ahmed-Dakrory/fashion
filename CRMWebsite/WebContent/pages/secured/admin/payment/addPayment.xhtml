<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/templates/dashboard.xhtml">

	<ui:define name="title">Shop Login</ui:define>
	
	<ui:define name="JavaScript">
		
	
	</ui:define>
		
		
	
	<ui:define name="CssDesign">
	
	 <link rel="stylesheet" href="#{resource['css:dashboard/addingNewObject.css']}" />
	 
	</ui:define>
	
	<ui:define name="content">
	#{saleBean.refresh()}
	#{generalBean.refresh()}
		
				<section role="main" class="content-body">
					<header class="page-header">
						<h2>Add Receivable </h2>
					
						<div class="right-wrapper pull-right">
							<ol class="breadcrumbs">
								<li>
									<a href="index.html">
										<i class="fa fa-home"></i>
									</a>
								</li>
								<li><span>Receivable</span></li>
								<li><span>Add Receivable</span></li>
							</ol>
					
							<a class="sidebar-right-toggle" href="/fashion/pages/secured/admin/payment/payments.jsf"><i class="fa fa-chevron-left"></i></a>
						</div>
					</header>

					<!-- start: page -->
					<h:form id="mainForm">
						<div class="container panel-body2">
						<div class="row" style=" margin-bottom: 3%;">
						<h1 style="margin-top: 3%;    margin-left: 5%;">Receivable</h1>
						</div>
							<div class="row" style="margin-left: 8%;" >
							<div >
							</div>
								<div class="col-md-5 classColumn">
									<div >
										<h:panelGrid class="tableItSelfDiv" columns="2" columnClasses="labelH4ColumnTr,inputColumnTr">
													<h4 class="labelH4Column ">Product</h4>
													<h:selectOneMenu class="selectorColumn "  value = "#{saleBean.addedSale.product_id.id}"> 
													   <f:selectItems value="#{saleBean.allproducts}" var="entry"
															           itemValue="#{entry.id}" itemLabel="# #{entry.id} #{entry.name}" />
													</h:selectOneMenu>
												
													<h4 class="labelH4Column ">Brought In/With</h4>
													<h:selectOneMenu class="selectorColumn "  value = "#{saleBean.addedSale.customer_id.id}"> 
													   <f:selectItems value="#{saleBean.allCustomers}" var="entry"
													           itemValue="#{entry.id}" itemLabel="#{entry.getRoleString()}: #{entry.name}" />
													</h:selectOneMenu>
													
													
													
													<h4 class="labelH4Column ">Date</h4>
													<p:inputText required="true" id="dateStart" value="#{saleBean.dateStringStart}" class= "inputColumn timePickerDate" ></p:inputText>
													
													<h4 class="labelH4Column ">Price Total</h4>
													<p:inputNumber required="true" inputStyleClass="inputColumn"  value="#{saleBean.addedSale.priceTotal}"></p:inputNumber>
												
												
													<h4 class="labelH4Column ">Quantity</h4>
													<p:inputNumber required="true" inputStyleClass="inputColumn"  value="#{saleBean.addedSale.quantity}"></p:inputNumber>
												
													<p:inputTextarea rendered="false"></p:inputTextarea>
														
													
											</h:panelGrid>
											
											
										</div>
									</div>
												
								<div class="col-md-5 classColumn">
													<div id="secondColumnForm">
										
											
														<h:panelGrid id="panelGid2" class="tableItSelfDiv" columns="2" columnClasses="labelH4ColumnTr,inputColumnTr">
																
																<h4 class="rowSpaceing labelH4Column ">Receivable Method</h4>
																<p:selectOneButton  styleClass="inputColumnSelectOneButton "  value = "#{saleBean.paymentAddingMethod}"> 
																	<f:ajax  render="panelGid2"></f:ajax>
																	<f:selectItem itemValue = "1" itemLabel = "Cash" /> 
																	<f:selectItem itemValue = "2" itemLabel = "Ration" />
																</p:selectOneButton>
																
																
																<h:outputLabel class="labelH4Column " value="Deposit" rendered="#{saleBean.paymentAddingMethod==2}" />
																<p:inputNumber required="true" inputStyleClass="inputColumn" rendered="#{saleBean.paymentAddingMethod==2}"  value="#{saleBean.deposite}"></p:inputNumber>
												
																<h:outputLabel class="labelH4Column " value="Installments Number" rendered="#{saleBean.paymentAddingMethod==2}" />
																<p:inputNumber required="true" inputStyleClass="inputColumn"  rendered="#{saleBean.paymentAddingMethod==2}" value="#{saleBean.numberOfInstallments}"></p:inputNumber>
												
																<h:outputLabel class="labelH4Column " value="End of Installments" rendered="#{saleBean.paymentAddingMethod==2}" />
																<p:inputText id="dateEnd" required="true"  value="#{saleBean.dateStringEnd}" class= "inputColumn timePicker" rendered="#{saleBean.paymentAddingMethod==2}" ></p:inputText>
															
															
															<script>
				$(function() {
					$('#mainForm\\:dateStart').datepicker({
					    dateFormat: 'yy-dd-mm',
					    onSelect: function(datetext){

					        var d = new Date(); // for now

					        var h = d.getHours();
					        h = (h &lt; 10) ? ("0" + h) : h ;

					        var m = d.getMinutes();
					        m = (m &lt; 10) ? ("0" + m) : m ;

					        var s = d.getSeconds();
					        s = (s &lt; 10) ? ("0" + s) : s ;

					        datetext = datetext + " " + h + ":" + m + ":" + s;

					        $('#mainForm\\:dateStart').val(datetext);
					    }
					});
					});
				
				$(function() {
					$('#mainForm\\:dateEnd').datepicker({
					    dateFormat: 'yy-dd-mm',
					    onSelect: function(datetext){

					        var d = new Date(); // for now

					        var h = d.getHours();
					        h = (h &lt; 10) ? ("0" + h) : h ;

					        var m = d.getMinutes();
					        m = (m &lt; 10) ? ("0" + m) : m ;

					        var s = d.getSeconds();
					        s = (s &lt; 10) ? ("0" + s) : s ;

					        datetext = datetext + " " + h + ":" + m + ":" + s;

					        $('#mainForm\\:dateEnd').val(datetext);
					    }
					});
					});
							
						
					</script>
																
															
														</h:panelGrid>
													
													</div>
												
										</div>
								
								
							</div>
						
						<div class="row" style="    margin-bottom: 2%;" >
							<div class="text-right mr-lg" style="    margin-right: 7%!important;">
								<h:commandButton value="Add Receivable" action="#{saleBean.addNewSale()}" class="btn btn-default"></h:commandButton>
							</div>
							</div>
						</div>
					</h:form>								
					<!-- end: page -->
					
					
					
      
				</section>		
				
					
				
	</ui:define>
	
		
	
</ui:composition>
</html>
