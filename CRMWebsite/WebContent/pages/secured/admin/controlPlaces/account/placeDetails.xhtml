<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:tp="http://java.sun.com/jsf/composite/elements">

<ui:composition template="/templates/dashboard.xhtml">

	<ui:define name="title">Shop Login</ui:define>
	
	<ui:define name="JavaScript">
		
	
		</ui:define>
		
		
	
	<ui:define name="CssDesign">
	
    
	 <link rel="stylesheet" href="#{resource['css:dashboard/addingNewObject.css']}" />
	 
	</ui:define>
	
	<ui:define name="content">
	<style>
	.ui-inputfield {
    background: #fff;
    -moz-box-shadow: inset 0 2px 2px #8f8f8f;
    -webkit-box-shadow: none;
    box-shadow: none;
    color: #313131;
}
	</style>
	#{controlPlacesBean.refresh()}
		<!-- start: page -->
		<section class="body-sign" style="width: 50%;">
			<div class="center-sign">
				<a href="/" class="logo pull-left">
					<img src="#{resource['images:logo.png']}" height="54" alt="Porto Admin" />
				</a>

				<div class="panel panel-sign">
					<div class="panel-title-sign mt-xl text-right">
						<h2 class="title text-uppercase text-bold m-none"><i class="fa fa-home mr-xs"></i> Update</h2>
					</div>
					<div class="panel-body">
						<h:form id="mainForm">
							<div class="row" style="    text-align: -webkit-center;">
								<h:panelGroup  id="imageOfForm">
									<style>
									.ui-fileupload-content {
										   border: #faebd700;
										    padding: 0px;
										    margin: 0px;
										}
										
									.ui-fileupload-buttonbar {
										   visibility: hidden;
										    height: 0px;
										    padding: 0px;
										    margin: 0px;
										}
								</style>
								<label for="mainForm:buttonUploadImage_input">
									<h:graphicImage value="/fashion/resources/images/imageEmpty.png" rendered="#{controlPlacesBean.selectedPlace.image==null}"  class="squareImage3" alt=""/>
									<h:graphicImage value="#{controlPlacesBean.selectedPlace.getphoto()}" rendered="#{controlPlacesBean.selectedPlace.image!=null}"  class="squareImage3" alt=""/>
								</label>
								
							    <p:fileUpload id="buttonUploadImage" fileUploadListener="#{controlPlacesBean.handleImageUploadForSelected}" mode="advanced"
							                 update="imageOfForm"  auto="true" sizeLimit="100000" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />
							         
							    <p:growl id="messages" showDetail="true" />        
								</h:panelGroup>
							</div>
							
							<div class="form-group mb-lg">
								<label>Name</label>
								<tp:inputDynamic id="nameInput" name="name" beanValue="#{controlPlacesBean.selectedPlace.name}" required="true" type="text" classStyle="form-control input-lg" />
							</div>

							
							<div class="form-group mb-lg">
								<label>Address</label>
								<tp:inputDynamic id="addressInput" name="address" beanValue="#{controlPlacesBean.selectedPlace.address}" required="true" type="text" classStyle="form-control input-lg" />
							</div>
							
														
							<div class="form-group mb-lg">
								<label>Mobile</label>
								<tp:inputDynamic  id="mobileInput" readonly="true" name="mobile" required="true" beanValue="#{controlPlacesBean.selectedPlace.phone}" type="number" classStyle="form-control input-lg inactive" />
							</div>

							<div class="row">
								<div class="col-sm-8">
									
								</div>
								<div class="col-sm-4 text-right">
									<button   class="btn btn-primary hidden-xs" >Update</button>
									<button   class="btn btn-primary btn-block btn-lg visible-xs mt-lg" >Update</button>
								</div>
							</div>
							<p:remoteCommand name="addPlace" action="#{controlPlacesBean.updatePlace}"/>
	
						</h:form>
					</div>
				</div>

				<p class="text-center text-muted mt-md mb-md">&copy; Copyright 2019. All rights reserved.</p>
			</div>
		</section>
		<!-- end: page -->			
		<script>
		$(function(){
			$('#mainForm').submit(function(event){
				event.preventDefault();
				
				addPlace();
			});
		});
		
		</script>
				
	</ui:define>
	
		
	
</ui:composition>
</html>
